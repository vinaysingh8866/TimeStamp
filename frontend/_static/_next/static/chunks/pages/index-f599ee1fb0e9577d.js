(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5825:function(e,t,n){"use strict";n.d(t,{L:function(){return a}});var a=new(n(9857)._k)({supportedChainIds:[137]})},1743:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var a=n(4713),i=n(7294);function s(e){var t=(0,a.Ge)(),n=t.library,s=t.chainId,r=(0,i.useState)(""),u=r[0],o=r[1];return(0,i.useEffect)((function(){if(n&&"string"===typeof e){var t=!1;return n.lookupAddress(e).then((function(e){t||"string"!==typeof e||o(e)})).catch((function(){})),function(){t=!0,o("")}}}),[n,e,s]),u}},7868:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(266),i=n(7757),s=n.n(i),r=n(2003),u=n.n(r),o=n(7294);function l(){var e,t=(0,o.useRef)(),i=(0,o.useState)(),r=i[0],l=i[1];function c(){return(c=(0,a.Z)(s().mark((function e(){var a,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(54).then(n.bind(n,8054)).then((function(e){return e.default}));case 2:i=e.sent,t.current=new i,null==(a=t.current)||a.startOnboarding();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,o.useEffect)((function(){function e(){return(e=(0,a.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u()({timeout:1e3,mustBeMetaMask:!0});case 2:t=e.sent,l(!!t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){e.apply(this,arguments)})()}),[]),{startOnboarding:function(){return c.apply(this,arguments)},stopOnboarding:function(){null!=t&&t.current&&t.current.stopOnboarding()},isMetaMaskInstalled:r,isWeb3Available:null==(e=window)?void 0:e.ethereum}}},7081:function(e,t,n){"use strict";n.r(t),n.d(t,{abi:function(){return f}});var a=n(266),i=n(7757),s=n.n(i),r=n(4713),u=n(9857),o=n(7114),l=n(6076),c=n(7294),p=n(5825),y=n(1743),m=n(7868),f=[{inputs:[{internalType:"bytes32",name:"stampHash",type:"bytes32"},{internalType:"bytes32",name:"nameHash",type:"bytes32"}],name:"insertTimeStamp",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"data",outputs:[{internalType:"uint256",name:"totalStamps",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"fileNameHashes",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"fileOwners",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getNewStamps",outputs:[{components:[{internalType:"bytes32",name:"hash",type:"bytes32"},{internalType:"uint256",name:"timestamp",type:"uint256"}],internalType:"struct TimeStampHash.Hash[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"stampHash",type:"bytes32"}],name:"getOwner",outputs:[{internalType:"address",name:"_owner",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"nameHash",type:"bytes32"}],name:"getTimeStampByNameHash",outputs:[{components:[{internalType:"bytes32",name:"hash",type:"bytes32"},{internalType:"uint256",name:"timestamp",type:"uint256"}],internalType:"struct TimeStampHash.Hash",name:"stampHash",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}];t.default=function(e){var t=e.triedToEagerConnect,n=e.data,i=(0,r.Ge)(),d=i.active,b=i.error,h=i.activate,w=(i.chainId,i.account),g=i.setError,v=(0,m.Z)(),E=v.isMetaMaskInstalled,T=v.isWeb3Available,M=v.startOnboarding,H=v.stopOnboarding;function S(){return(S=(0,a.Z)(s().mark((function e(){var t,a,i,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),t=new o.Q(window.ethereum),a=t.getSigner(),i=new l.CH("0xBfE9f09743aE9476Fee480cA9dDd6f9e34b58bB2",f,a),e.next=6,i.getOwner(n.dataHash);case 6:r=e.sent,console.log(r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k=(0,c.useState)(!1),x=k[0],C=k[1];(0,c.useEffect)((function(){(d||b)&&(C(!1),H())}),[d,b,H]);(0,y.Z)(w);return b?null:t?"string"!==typeof w?c.createElement("div",null,T?c.createElement("button",{disabled:x,onClick:function(){C(!0),h(p.L,void 0,!0).catch((function(e){e instanceof u.ab?C(!1):g(e)}))}},E?"Connect to MetaMask":"Connect to Wallet"):c.createElement("button",{onClick:M},"Install Metamask")):c.createElement("button",{onClick:function(){return S.apply(this,arguments)}},"Get Owner"):null}},7982:function(e,t,n){"use strict";n.r(t);var a=n(7294),i=n(4648),s=n.n(i),r=n(6943),u=n(1519),o=n(3343);t.default=function(e){var t=e.modifyData,n=(0,a.useRef)(null),i=(0,a.useState)(""),l=(i[0],i[1]),c=(0,a.useState)(""),p=(c[0],c[1]);return a.createElement(r.Z,{w:"20"},a.createElement("input",{style:{display:"none"},ref:n,onChange:function(e){var n=e.target.files;if(n&&n.length){var a=n[0].name;l(a),console.log(a);n[0];var i=a.split("."),r=(i[i.length-1],new FileReader);r.onload=function(e){var n=r.result,i=s()(a).toString("hex"),u=s()(n).toString("hex");console.log("0x"+u,"0x"+i),t("0x"+u,"0x"+i),p("0x"+u)};r.readAsBinaryString(e.target.files[0])}},type:"file"}),a.createElement("button",{className:"button",onClick:function(){n&&n.current&&n.current.click()}},a.createElement(u.Z,null,a.createElement(o.Z,null,"Upload"))))}},2895:function(e,t,n){"use strict";n.r(t);var a=n(266),i=n(7757),s=n.n(i),r=n(4713),u=n(9857),o=n(7114),l=n(6076),c=n(5553),p=n(7294),y=n(5825),m=n(1743),f=n(7868),d=[{inputs:[{internalType:"bytes32",name:"stampHash",type:"bytes32"},{internalType:"bytes32",name:"nameHash",type:"bytes32"}],name:"insertTimeStamp",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"data",outputs:[{internalType:"uint256",name:"totalStamps",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"fileNameHashes",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"fileOwners",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getNewStamps",outputs:[{components:[{internalType:"bytes32",name:"hash",type:"bytes32"},{internalType:"uint256",name:"timestamp",type:"uint256"}],internalType:"struct TimeStampHash.Hash[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"stampHash",type:"bytes32"}],name:"getOwner",outputs:[{internalType:"address",name:"_owner",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"nameHash",type:"bytes32"}],name:"getTimeStampByNameHash",outputs:[{components:[{internalType:"bytes32",name:"hash",type:"bytes32"},{internalType:"uint256",name:"timestamp",type:"uint256"}],internalType:"struct TimeStampHash.Hash",name:"stampHash",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}];t.default=function(e){var t=e.triedToEagerConnect,n=e.data,i=(0,r.Ge)(),b=i.active,h=i.error,w=i.activate,g=(i.chainId,i.account),v=i.setError,E=(0,f.Z)(),T=E.isMetaMaskInstalled,M=E.isWeb3Available,H=E.startOnboarding,S=E.stopOnboarding;function k(){return(k=(0,a.Z)(s().mark((function e(){var t,a,i,r,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),t=new o.Q(window.ethereum),a=t.getSigner(),i=new l.CH("0xBfE9f09743aE9476Fee480cA9dDd6f9e34b58bB2",d,a),e.next=6,i.insertTimeStamp(n.dataHash,n.fileNameHash,{value:c.fi("0.01")});case 6:return r=e.sent,e.next=9,r.wait();case 9:return console.log(n.dataHash,n.fileNameHash),e.next=12,i.getTimeStamp(n.fileNameHash);case 12:u=e.sent,console.log(r,u);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x=(0,p.useState)(!1),C=x[0],Z=x[1];(0,p.useEffect)((function(){(b||h)&&(Z(!1),S())}),[b,h,S]);(0,m.Z)(g);return h?null:t?"string"!==typeof g?p.createElement("div",null,M?p.createElement("button",{disabled:C,onClick:function(){Z(!0),w(y.L,void 0,!0).catch((function(e){e instanceof u.ab?Z(!1):v(e)}))}},T?"Connect to MetaMask":"Connect to Wallet"):p.createElement("button",{onClick:H},"Install Metamask")):p.createElement("button",{onClick:function(){return k.apply(this,arguments)}},"Insert Hash"):null}},5569:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var a=n(7294),i=n(6943),s=n(1519),r=n(3343),u=n(6846),o=n(8729),l=n(5461),c=n(550),p=n(7002),y=n(7982),m=n(2895),f=n(4713),d=n(5825);var b=n(7081),h=n(6076),w=n(7114);function g(){var e=(0,a.useState)([]),t=e[0],n=e[1];var u=(0,f.Ge)(),o=u.account,l=u.library,c=function(){var e=(0,f.Ge)(),t=e.activate,n=e.active,i=(0,a.useState)(!1),s=i[0],r=i[1];return(0,a.useEffect)((function(){d.L.isAuthorized().then((function(e){e?t(d.L,void 0,!0).catch((function(){r(!0)})):r(!0)}))}),[t]),(0,a.useEffect)((function(){!s&&n&&r(!0)}),[s,n]),s}(),p=(0,a.useState)({fileNameHash:"",dataHash:""}),g=p[0],E=p[1];return(0,a.useEffect)((function(){if(o&&l){var e=new w.Q(window.ethereum).getSigner();new h.CH("0xBfE9f09743aE9476Fee480cA9dDd6f9e34b58bB2",b.abi,e).getNewStamps(o).then((function(e){console.log(e),n(e)}))}}),[o,l]),a.createElement(i.Z,{_dark:{bg:"blueGray.900"}},a.createElement(s.Z,{w:"100vw",bg:"blue.200",h:"20"},a.createElement(r.Z,{color:"white",fontSize:"xl",fontWeight:"bold",ml:"4"})),a.createElement(i.Z,{_dark:{bg:"blueGray.900"},_light:{bg:"blueGray.200"},mx:"auto",h:"40vh",w:"70vw"},a.createElement(s.Z,{mx:"auto"},a.createElement(r.Z,{fontSize:"xl",fontWeight:"bold",ml:"4"},"Upload File"),a.createElement(y.default,{modifyData:function(e,t){E({fileNameHash:e,dataHash:t})}})),a.createElement(m.default,{triedToEagerConnect:c,data:g}),a.createElement(b.default,{triedToEagerConnect:c,data:g})),a.createElement(v,null),a.createElement(i.Z,{_dark:{bg:"blueGray.900"},_light:{bg:"blueGray.200"},mt:"2",mx:"auto",h:"40vh",w:"70vw"},t.map((function(e,t){return a.createElement(s.Z,{_dark:{bg:"blueGray.900"},_light:{bg:"blueGray.200"},w:"100%",h:"20",p:"2",key:t},a.createElement(r.Z,{fontSize:"l",ml:"4"},e.hash),a.createElement(r.Z,{fontSize:"l",ml:"4"},function(e){var t=new Date(1e3*e),n=t.getHours(),a="0"+t.getMinutes(),i="0"+t.getSeconds();return t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()+" "+n+":"+a.substr(-2)+":"+i.substr(-2)}(e.timestamp.toString())))}))))}function v(){var e=(0,u.If)(),t=e.colorMode,n=e.toggleColorMode;return a.createElement(o.u,{label:"dark"===t?"Enable light mode":"Enable dark mode",placement:"bottom right",openDelay:300,closeOnClick:!1},a.createElement(l.Z,{position:"absolute",top:5,right:8,onPress:n,icon:"dark"===t?a.createElement(c.N,null):a.createElement(p.k,null),accessibilityLabel:"Color Mode Switch"}))}},5301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(5569)}])},9120:function(){},7454:function(){},3472:function(){}},function(e){e.O(0,[121,294,689,846,888,774,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);