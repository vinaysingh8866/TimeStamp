(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[724],{5553:function(t,e,n){"use strict";n.d(e,{fi:function(){return _}});var r=n(6441),i=n(1581),a=n(8794),s=n(2593);const o=new i.Yd(a.i),u={},l=s.O$.from(0),m=s.O$.from(-1);function c(t,e,n,r){const a={fault:e,operation:n};return void 0!==r&&(a.value=r),o.throwError(t,i.Yd.errors.NUMERIC_FAULT,a)}let f="0";for(;f.length<256;)f+=f;function d(t){if("number"!==typeof t)try{t=s.O$.from(t).toNumber()}catch(e){}return"number"===typeof t&&t>=0&&t<=256&&!(t%1)?"1"+f.substring(0,t):o.throwArgumentError("invalid decimal size","decimals",t)}function h(t,e){null==e&&(e=0);const n=d(e),r=(t=s.O$.from(t)).lt(l);r&&(t=t.mul(m));let i=t.mod(n).toString();for(;i.length<n.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const a=t.div(n).toString();return t=1===n.length?a:a+"."+i,r&&(t="-"+t),t}function p(t,e){null==e&&(e=0);const n=d(e);"string"===typeof t&&t.match(/^-?[0-9.]+$/)||o.throwArgumentError("invalid decimal value","value",t);const r="-"===t.substring(0,1);r&&(t=t.substring(1)),"."===t&&o.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&o.throwArgumentError("too many decimal points","value",t);let a=i[0],u=i[1];for(a||(a="0"),u||(u="0");"0"===u[u.length-1];)u=u.substring(0,u.length-1);for(u.length>n.length-1&&c("fractional component exceeds decimals","underflow","parseFixed"),""===u&&(u="0");u.length<n.length-1;)u+="0";const l=s.O$.from(a),f=s.O$.from(u);let h=l.mul(n).add(f);return r&&(h=h.mul(m)),h}class y{constructor(t,e,n,r){t!==u&&o.throwError("cannot use FixedFormat constructor; use FixedFormat.from",i.Yd.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=e,this.width=n,this.decimals=r,this.name=(e?"":"u")+"fixed"+String(n)+"x"+String(r),this._multiplier=d(r),Object.freeze(this)}static from(t){if(t instanceof y)return t;"number"===typeof t&&(t=`fixed128x${t}`);let e=!0,n=128,r=18;if("string"===typeof t)if("fixed"===t);else if("ufixed"===t)e=!1;else{const i=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);i||o.throwArgumentError("invalid fixed format","format",t),e="u"!==i[1],n=parseInt(i[2]),r=parseInt(i[3])}else if(t){const i=(e,n,r)=>null==t[e]?r:(typeof t[e]!==n&&o.throwArgumentError("invalid fixed format ("+e+" not "+n+")","format."+e,t[e]),t[e]);e=i("signed","boolean",e),n=i("width","number",n),r=i("decimals","number",r)}return n%8&&o.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),r>80&&o.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",r),new y(u,e,n,r)}}class g{constructor(t,e,n,r){t!==u&&o.throwError("cannot use FixedNumber constructor; use FixedNumber.from",i.Yd.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=r,this._hex=e,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(t){this.format.name!==t.format.name&&o.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",t)}addUnsafe(t){this._checkFormat(t);const e=p(this._value,this.format.decimals),n=p(t._value,t.format.decimals);return g.fromValue(e.add(n),this.format.decimals,this.format)}subUnsafe(t){this._checkFormat(t);const e=p(this._value,this.format.decimals),n=p(t._value,t.format.decimals);return g.fromValue(e.sub(n),this.format.decimals,this.format)}mulUnsafe(t){this._checkFormat(t);const e=p(this._value,this.format.decimals),n=p(t._value,t.format.decimals);return g.fromValue(e.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(t){this._checkFormat(t);const e=p(this._value,this.format.decimals),n=p(t._value,t.format.decimals);return g.fromValue(e.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){const t=this.toString().split(".");1===t.length&&t.push("0");let e=g.from(t[0],this.format);const n=!t[1].match(/^(0*)$/);return this.isNegative()&&n&&(e=e.subUnsafe(w.toFormat(e.format))),e}ceiling(){const t=this.toString().split(".");1===t.length&&t.push("0");let e=g.from(t[0],this.format);const n=!t[1].match(/^(0*)$/);return!this.isNegative()&&n&&(e=e.addUnsafe(w.toFormat(e.format))),e}round(t){null==t&&(t=0);const e=this.toString().split(".");if(1===e.length&&e.push("0"),(t<0||t>80||t%1)&&o.throwArgumentError("invalid decimal count","decimals",t),e[1].length<=t)return this;const n=g.from("1"+f.substring(0,t),this.format),r=b.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(r).floor().divUnsafe(n)}isZero(){return"0.0"===this._value||"0"===this._value}isNegative(){return"-"===this._value[0]}toString(){return this._value}toHexString(t){if(null==t)return this._hex;t%8&&o.throwArgumentError("invalid byte width","width",t);const e=s.O$.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString();return(0,r.$m)(e,t/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return g.fromString(this._value,t)}static fromValue(t,e,n){return null!=n||null==e||(0,s.Zm)(e)||(n=e,e=null),null==e&&(e=0),null==n&&(n="fixed"),g.fromString(h(t,e),y.from(n))}static fromString(t,e){null==e&&(e="fixed");const n=y.from(e),i=p(t,n.decimals);!n.signed&&i.lt(l)&&c("unsigned value cannot be negative","overflow","value",t);let a=null;n.signed?a=i.toTwos(n.width).toHexString():(a=i.toHexString(),a=(0,r.$m)(a,n.width/8));const s=h(i,n.decimals);return new g(u,a,s,n)}static fromBytes(t,e){null==e&&(e="fixed");const n=y.from(e);if((0,r.lE)(t).length>n.width/8)throw new Error("overflow");let i=s.O$.from(t);n.signed&&(i=i.fromTwos(n.width));const a=i.toTwos((n.signed?0:1)+n.width).toHexString(),o=h(i,n.decimals);return new g(u,a,o,n)}static from(t,e){if("string"===typeof t)return g.fromString(t,e);if((0,r._t)(t))return g.fromBytes(t,e);try{return g.fromValue(t,0,e)}catch(n){if(n.code!==i.Yd.errors.INVALID_ARGUMENT)throw n}return o.throwArgumentError("invalid FixedNumber value","value",t)}static isFixedNumber(t){return!(!t||!t._isFixedNumber)}}const w=g.from(1),b=g.from("0.5"),v=new i.Yd("units/5.7.0"),x=["wei","kwei","mwei","gwei","szabo","finney","ether"];function _(t){return function(t,e){if("string"!==typeof t&&v.throwArgumentError("value must be a string","value",t),"string"===typeof e){const t=x.indexOf(e);-1!==t&&(e=3*t)}return p(t,null!=e?e:18)}(t,18)}},5825:function(t,e,n){"use strict";n.d(e,{L:function(){return r}});var r=new(n(9857)._k)({supportedChainIds:[137]})},1743:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});var r=n(4713),i=n(7294);function a(t){var e=(0,r.Ge)(),n=e.library,a=e.chainId,s=(0,i.useState)(""),o=s[0],u=s[1];return(0,i.useEffect)((function(){if(n&&"string"===typeof t){var e=!1;return n.lookupAddress(t).then((function(t){e||"string"!==typeof t||u(t)})).catch((function(){})),function(){e=!0,u("")}}}),[n,t,a]),o}},7868:function(t,e,n){"use strict";n.d(e,{Z:function(){return l}});var r=n(266),i=n(7757),a=n.n(i),s=n(2003),o=n.n(s),u=n(7294);function l(){var t,e=(0,u.useRef)(),i=(0,u.useState)(),s=i[0],l=i[1];function m(){return(m=(0,r.Z)(a().mark((function t(){var r,i;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.e(54).then(n.bind(n,8054)).then((function(t){return t.default}));case 2:i=t.sent,e.current=new i,null==(r=e.current)||r.startOnboarding();case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,u.useEffect)((function(){function t(){return(t=(0,r.Z)(a().mark((function t(){var e;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o()({timeout:1e3,mustBeMetaMask:!0});case 2:e=t.sent,l(!!e);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(function(){t.apply(this,arguments)})()}),[]),{startOnboarding:function(){return m.apply(this,arguments)},stopOnboarding:function(){null!=e&&e.current&&e.current.stopOnboarding()},isMetaMaskInstalled:s,isWeb3Available:null==(t=window)?void 0:t.ethereum}}},2895:function(t,e,n){"use strict";n.r(e);var r=n(266),i=n(7757),a=n.n(i),s=n(4713),o=n(9857),u=n(7114),l=n(6076),m=n(5553),c=n(7294),f=n(5825),d=n(1743),h=n(7868),p=[{inputs:[{internalType:"bytes32",name:"stampHash",type:"bytes32"},{internalType:"bytes32",name:"nameHash",type:"bytes32"}],name:"insertTimeStamp",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"data",outputs:[{internalType:"uint256",name:"totalStamps",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"fileNameHashes",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"fileOwners",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getNewStamps",outputs:[{components:[{internalType:"bytes32",name:"hash",type:"bytes32"},{internalType:"uint256",name:"timestamp",type:"uint256"}],internalType:"struct TimeStampHash.Hash[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"stampHash",type:"bytes32"}],name:"getOwner",outputs:[{internalType:"address",name:"_owner",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"nameHash",type:"bytes32"}],name:"getTimeStampByNameHash",outputs:[{components:[{internalType:"bytes32",name:"hash",type:"bytes32"},{internalType:"uint256",name:"timestamp",type:"uint256"}],internalType:"struct TimeStampHash.Hash",name:"stampHash",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}];e.default=function(t){var e=t.triedToEagerConnect,n=t.data,i=(0,s.Ge)(),y=i.active,g=i.error,w=i.activate,b=(i.chainId,i.account),v=i.setError,x=(0,h.Z)(),_=x.isMetaMaskInstalled,E=x.isWeb3Available,T=x.startOnboarding,S=x.stopOnboarding;function F(){return(F=(0,r.Z)(a().mark((function t(){var e,r,i,s,o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(n),e=new u.Q(window.ethereum),r=e.getSigner(),i=new l.CH("0xBfE9f09743aE9476Fee480cA9dDd6f9e34b58bB2",p,r),t.next=6,i.insertTimeStamp(n.dataHash,n.fileNameHash,{value:m.fi("0.01")});case 6:return s=t.sent,t.next=9,s.wait();case 9:return console.log(n.dataHash,n.fileNameHash),t.next=12,i.getTimeStamp(n.fileNameHash);case 12:o=t.sent,console.log(s,o);case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var N=(0,c.useState)(!1),O=N[0],H=N[1];(0,c.useEffect)((function(){(y||g)&&(H(!1),S())}),[y,g,S]);(0,d.Z)(b);return g?null:e?"string"!==typeof b?c.createElement("div",null,E?c.createElement("button",{disabled:O,onClick:function(){H(!0),w(f.L,void 0,!0).catch((function(t){t instanceof o.ab?H(!1):v(t)}))}},_?"Connect to MetaMask":"Connect to Wallet"):c.createElement("button",{onClick:T},"Install Metamask")):c.createElement("button",{onClick:function(){return F.apply(this,arguments)}},"Insert Hash"):null}},5260:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/components/PutHash",function(){return n(2895)}])}},function(t){t.O(0,[121,294,888,774,179],(function(){return e=5260,t(t.s=e);var e}));var e=t.O();_N_E=e}]);