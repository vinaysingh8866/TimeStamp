"use strict";
exports.id = 895;
exports.ids = [895];
exports.modules = {

/***/ 12895:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(87757);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _web3_react_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(18054);
/* harmony import */ var _web3_react_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_web3_react_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _web3_react_injected_connector__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(76590);
/* harmony import */ var _web3_react_injected_connector__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_web3_react_injected_connector__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(71982);
/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(ethers__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(16689);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _connectors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(45825);
/* harmony import */ var _hooks_useENSName__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(61743);
/* harmony import */ var _hooks_useMetaMaskOnboarding__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(27868);
var abi=[{"inputs":[{"internalType":"bytes32","name":"stampHash","type":"bytes32"},{"internalType":"bytes32","name":"nameHash","type":"bytes32"}],"name":"insertTimeStamp","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"data","outputs":[{"internalType":"uint256","name":"totalStamps","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"fileNameHashes","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"fileOwners","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"}],"name":"getNewStamps","outputs":[{"components":[{"internalType":"bytes32","name":"hash","type":"bytes32"},{"internalType":"uint256","name":"timestamp","type":"uint256"}],"internalType":"struct TimeStampHash.Hash[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"stampHash","type":"bytes32"}],"name":"getOwner","outputs":[{"internalType":"address","name":"_owner","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"nameHash","type":"bytes32"}],"name":"getTimeStampByNameHash","outputs":[{"components":[{"internalType":"bytes32","name":"hash","type":"bytes32"},{"internalType":"uint256","name":"timestamp","type":"uint256"}],"internalType":"struct TimeStampHash.Hash","name":"stampHash","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"}];var PutHash=function PutHash(_ref){var triedToEagerConnect=_ref.triedToEagerConnect,data=_ref.data;var _useWeb3React=(0,_web3_react_core__WEBPACK_IMPORTED_MODULE_1__.useWeb3React)(),active=_useWeb3React.active,error=_useWeb3React.error,activate=_useWeb3React.activate,chainId=_useWeb3React.chainId,account=_useWeb3React.account,setError=_useWeb3React.setError;var _useMetaMaskOnboardin=(0,_hooks_useMetaMaskOnboarding__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z)(),isMetaMaskInstalled=_useMetaMaskOnboardin.isMetaMaskInstalled,isWeb3Available=_useMetaMaskOnboardin.isWeb3Available,startOnboarding=_useMetaMaskOnboardin.startOnboarding,stopOnboarding=_useMetaMaskOnboardin.stopOnboarding;function SendData(){var provider,signer,contract,tx,check;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().async(function SendData$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(data);provider=new ethers__WEBPACK_IMPORTED_MODULE_3__.ethers.providers.Web3Provider(window.ethereum);signer=provider.getSigner();contract=new ethers__WEBPACK_IMPORTED_MODULE_3__.ethers.Contract("0xBfE9f09743aE9476Fee480cA9dDd6f9e34b58bB2",abi,signer);_context.next=6;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().awrap(contract.insertTimeStamp(data.dataHash,data.fileNameHash,{value:ethers__WEBPACK_IMPORTED_MODULE_3__.ethers.utils.parseEther("0.01")}));case 6:tx=_context.sent;_context.next=9;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().awrap(tx.wait());case 9:console.log(data.dataHash,data.fileNameHash);_context.next=12;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().awrap(contract.getTimeStamp(data.fileNameHash));case 12:check=_context.sent;console.log(tx,check);case 14:case"end":return _context.stop();}}},null,null,null,Promise);}var _useState=(0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(false),connecting=_useState[0],setConnecting=_useState[1];(0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(function(){if(active||error){setConnecting(false);stopOnboarding();}},[active,error,stopOnboarding]);var ENSName=(0,_hooks_useENSName__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(account);if(error){return null;}if(!triedToEagerConnect){return null;}if(typeof account!=="string"){return react__WEBPACK_IMPORTED_MODULE_4___default().createElement("div",null,isWeb3Available?react__WEBPACK_IMPORTED_MODULE_4___default().createElement("button",{disabled:connecting,onClick:function onClick(){setConnecting(true);activate(_connectors__WEBPACK_IMPORTED_MODULE_5__/* .injected */ .L,undefined,true).catch(function(error){if(error instanceof _web3_react_injected_connector__WEBPACK_IMPORTED_MODULE_2__.UserRejectedRequestError){setConnecting(false);}else{setError(error);}});}},isMetaMaskInstalled?"Connect to MetaMask":"Connect to Wallet"):react__WEBPACK_IMPORTED_MODULE_4___default().createElement("button",{onClick:startOnboarding},"Install Metamask"));}return react__WEBPACK_IMPORTED_MODULE_4___default().createElement("button",{onClick:SendData},"Insert Hash");};/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PutHash);

/***/ })

};
;